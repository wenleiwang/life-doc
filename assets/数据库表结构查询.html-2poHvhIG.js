import{_ as s,o as n,c as a,a as p}from"./app-7rGY8hGP.js";const e={},o=p(`<h1 id="数据库表结构查询" tabindex="-1"><a class="header-anchor" href="#数据库表结构查询" aria-hidden="true">#</a> 数据库表结构查询</h1><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- SQL Server查询表结构</span>
	 <span class="token keyword">SELECT</span>  <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> col<span class="token punctuation">.</span>colorder <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">THEN</span> obj<span class="token punctuation">.</span>name
		<span class="token keyword">ELSE</span> <span class="token string">&#39;&#39;</span>
             <span class="token keyword">END</span> <span class="token keyword">AS</span> 表名<span class="token punctuation">,</span>
        col<span class="token punctuation">.</span>colorder <span class="token keyword">AS</span> 序号 <span class="token punctuation">,</span>
        col<span class="token punctuation">.</span>name <span class="token keyword">AS</span> 列名 <span class="token punctuation">,</span>
        ISNULL<span class="token punctuation">(</span>ep<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token keyword">value</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 列说明 <span class="token punctuation">,</span>
        t<span class="token punctuation">.</span>name <span class="token keyword">AS</span> 数据类型 <span class="token punctuation">,</span>
        col<span class="token punctuation">.</span>length <span class="token keyword">AS</span> 长度 <span class="token punctuation">,</span>
        ISNULL<span class="token punctuation">(</span>COLUMNPROPERTY<span class="token punctuation">(</span>col<span class="token punctuation">.</span>id<span class="token punctuation">,</span> col<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">&#39;Scale&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 小数位数 <span class="token punctuation">,</span>
        <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> COLUMNPROPERTY<span class="token punctuation">(</span>col<span class="token punctuation">.</span>id<span class="token punctuation">,</span> col<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">&#39;IsIdentity&#39;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token string">&#39;√&#39;</span>
             <span class="token keyword">ELSE</span> <span class="token string">&#39;&#39;</span>
        <span class="token keyword">END</span> <span class="token keyword">AS</span> 标识 <span class="token punctuation">,</span>
        <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span>   <span class="token number">1</span>
                           <span class="token keyword">FROM</span>     dbo<span class="token punctuation">.</span>sysindexes si
                                    <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> dbo<span class="token punctuation">.</span>sysindexkeys sik <span class="token keyword">ON</span> si<span class="token punctuation">.</span>id <span class="token operator">=</span> sik<span class="token punctuation">.</span>id
                                                              <span class="token operator">AND</span> si<span class="token punctuation">.</span>indid <span class="token operator">=</span> sik<span class="token punctuation">.</span>indid
                                    <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> dbo<span class="token punctuation">.</span>syscolumns sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>id <span class="token operator">=</span> sik<span class="token punctuation">.</span>id
                                                              <span class="token operator">AND</span> sc<span class="token punctuation">.</span>colid <span class="token operator">=</span> sik<span class="token punctuation">.</span>colid
                                    <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> dbo<span class="token punctuation">.</span>sysobjects so <span class="token keyword">ON</span> so<span class="token punctuation">.</span>name <span class="token operator">=</span> si<span class="token punctuation">.</span>name
                                                              <span class="token operator">AND</span> so<span class="token punctuation">.</span>xtype <span class="token operator">=</span> <span class="token string">&#39;PK&#39;</span>
                           <span class="token keyword">WHERE</span>    sc<span class="token punctuation">.</span>id <span class="token operator">=</span> col<span class="token punctuation">.</span>id
                                    <span class="token operator">AND</span> sc<span class="token punctuation">.</span>colid <span class="token operator">=</span> col<span class="token punctuation">.</span>colid <span class="token punctuation">)</span> <span class="token keyword">THEN</span> <span class="token string">&#39;√&#39;</span>
             <span class="token keyword">ELSE</span> <span class="token string">&#39;&#39;</span>
        <span class="token keyword">END</span> <span class="token keyword">AS</span> 主键 <span class="token punctuation">,</span>
        <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> col<span class="token punctuation">.</span>isnullable <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">THEN</span> <span class="token string">&#39;√&#39;</span>
             <span class="token keyword">ELSE</span> <span class="token string">&#39;&#39;</span>
        <span class="token keyword">END</span> <span class="token keyword">AS</span> 允许空 <span class="token punctuation">,</span>
        ISNULL<span class="token punctuation">(</span>comm<span class="token punctuation">.</span><span class="token keyword">text</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 默认值
<span class="token keyword">FROM</span>    dbo<span class="token punctuation">.</span>syscolumns col
        <span class="token keyword">LEFT</span>  <span class="token keyword">JOIN</span> dbo<span class="token punctuation">.</span>systypes t <span class="token keyword">ON</span> col<span class="token punctuation">.</span>xtype <span class="token operator">=</span> t<span class="token punctuation">.</span>xusertype
        <span class="token keyword">inner</span> <span class="token keyword">JOIN</span> dbo<span class="token punctuation">.</span>sysobjects obj <span class="token keyword">ON</span> col<span class="token punctuation">.</span>id <span class="token operator">=</span> obj<span class="token punctuation">.</span>id
                                         <span class="token operator">AND</span> obj<span class="token punctuation">.</span>xtype <span class="token operator">=</span> <span class="token string">&#39;U&#39;</span>
                                         <span class="token operator">AND</span> obj<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token operator">&gt;=</span> <span class="token number">0</span>
        <span class="token keyword">LEFT</span>  <span class="token keyword">JOIN</span> dbo<span class="token punctuation">.</span>syscomments comm <span class="token keyword">ON</span> col<span class="token punctuation">.</span>cdefault <span class="token operator">=</span> comm<span class="token punctuation">.</span>id
        <span class="token keyword">LEFT</span>  <span class="token keyword">JOIN</span> sys<span class="token punctuation">.</span>extended_properties ep <span class="token keyword">ON</span> col<span class="token punctuation">.</span>id <span class="token operator">=</span> ep<span class="token punctuation">.</span>major_id
                                                      <span class="token operator">AND</span> col<span class="token punctuation">.</span>colid <span class="token operator">=</span> ep<span class="token punctuation">.</span>minor_id
                                                      <span class="token operator">AND</span> ep<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;MS_Description&#39;</span>
        <span class="token keyword">LEFT</span>  <span class="token keyword">JOIN</span> sys<span class="token punctuation">.</span>extended_properties epTwo <span class="token keyword">ON</span> obj<span class="token punctuation">.</span>id <span class="token operator">=</span> epTwo<span class="token punctuation">.</span>major_id
                                                         <span class="token operator">AND</span> epTwo<span class="token punctuation">.</span>minor_id <span class="token operator">=</span> <span class="token number">0</span>
                                                         <span class="token operator">AND</span> epTwo<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;MS_Description&#39;</span>
<span class="token keyword">WHERE</span>   obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;agentinfomation&#39;</span><span class="token comment">--数据库表名</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> col<span class="token punctuation">.</span>colorder <span class="token punctuation">;</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>
MYSQL ：查看表结构
<span class="token keyword">select</span> COLUMN_NAME <span class="token string">&#39;字段名&#39;</span><span class="token punctuation">,</span>COLUMN_TYPE <span class="token string">&#39;数据类型&#39;</span><span class="token punctuation">,</span><span class="token keyword">case</span> COLUMN_DEFAULT <span class="token keyword">when</span> <span class="token string">&#39;&#39;</span> <span class="token keyword">then</span> <span class="token string">&#39;空字符&#39;</span> <span class="token keyword">else</span> COLUMN_DEFAULT <span class="token keyword">end</span> <span class="token keyword">as</span> <span class="token string">&#39;默认值&#39;</span><span class="token punctuation">,</span>
       IS_NULLABLE <span class="token string">&#39;运行非空&#39;</span><span class="token punctuation">,</span> EXTRA <span class="token string">&#39;自动递增&#39;</span><span class="token punctuation">,</span>COLUMN_COMMENT <span class="token string">&#39;备注&#39;</span>
<span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span>
<span class="token keyword">where</span> table_schema <span class="token operator">=</span> <span class="token string">&#39;contract_aos_test&#39;</span> <span class="token comment">#表所在数据库</span>
<span class="token operator">and</span> table_name <span class="token operator">=</span> <span class="token string">&#39;achievement&#39;</span> <span class="token punctuation">;</span> <span class="token comment">#你要查的表</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>#数据库</p>`,5),t=[o];function c(l,i){return n(),a("div",null,t)}const r=s(e,[["render",c],["__file","数据库表结构查询.html.vue"]]);export{r as default};
