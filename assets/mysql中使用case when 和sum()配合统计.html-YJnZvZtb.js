import{_ as s,o as n,c as a,a as e}from"./app-7rGY8hGP.js";const t={},o=e(`<h1 id="mysql中使用case-when-和sum-配合统计" tabindex="-1"><a class="header-anchor" href="#mysql中使用case-when-和sum-配合统计" aria-hidden="true">#</a> mysql中使用case when 和sum()配合统计</h1><p><img src="https://img-life.oss-cn-beijing.aliyuncs.com/doc/202402191755597.png" alt="image.png|150"></p><h2 id="_1、sum与if结合使用" tabindex="-1"><a class="header-anchor" href="#_1、sum与if结合使用" aria-hidden="true">#</a> 1、sum与if结合使用</h2><p>如图：表中，<strong>count_money</strong> 字段代表金额。为正表示收入，负表示支出。</p><p><strong>统计总收入，总支出。</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> 
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">if</span><span class="token punctuation">(</span>count_money <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> count_money<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sum_receipt<span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">if</span><span class="token punctuation">(</span>count_money <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">,</span> count_money<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sum_paid 
<span class="token keyword">from</span> tableName<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>得到sum_receipt为总收入，sum_paid为总支出。</strong></p><h2 id="sum与case-when-结合使用" tabindex="-1"><a class="header-anchor" href="#sum与case-when-结合使用" aria-hidden="true">#</a> sum与case when 结合使用</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> 
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> count_money <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">then</span> count_money <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sum_receipt<span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> count_money <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">then</span> count_money <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sum_paid 
<span class="token keyword">from</span> tableName<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3、总结" tabindex="-1"><a class="header-anchor" href="#_3、总结" aria-hidden="true">#</a> 3、总结</h2><p>可以发现，case when和if函数的功能是相同的，if的使用更简洁直观 条件复杂时，使用case when，条件简单时，使用if()</p>`,11),p=[o];function c(l,i){return n(),a("div",null,p)}const r=s(t,[["render",c],["__file","mysql中使用case when 和sum()配合统计.html.vue"]]);export{r as default};
